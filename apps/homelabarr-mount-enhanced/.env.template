# HomelabARR Multi-Provider Cloud Storage Configuration
# Copy to .env and customize for your setup

# =============================================================================
# PRIMARY PROVIDER CONFIGURATION
# =============================================================================
# Options: gdrive, backblaze, onedrive, pcloud, mixed
CLOUD_PROVIDER=gdrive

# Storage tier strategy: standard, archive, performance, cost-optimized
STORAGE_TIER=standard

# =============================================================================
# PROVIDER ENABLEMENT
# =============================================================================
GDRIVE_ENABLED=true
TDRIVE_ENABLED=false
BACKBLAZE_ENABLED=false
ONEDRIVE_ENABLED=false
PCLOUD_ENABLED=false

# =============================================================================
# GOOGLE DRIVE CONFIGURATION
# =============================================================================
GDRIVE_CLIENT_ID=your_client_id.apps.googleusercontent.com
GDRIVE_CLIENT_SECRET=your_client_secret
GDRIVE_TOKEN=your_refresh_token
GDRIVE_DAILY_QUOTA=750GB
GDRIVE_RATE_LIMIT=10

# Team Drive (optional)
TDRIVE1_ID=your_team_drive_id_1
TDRIVE2_ID=your_team_drive_id_2

# =============================================================================
# BACKBLAZE B2 CONFIGURATION (Recommended for cost-effectiveness)
# =============================================================================
B2_ACCOUNT_ID=your_b2_account_id
B2_ACCOUNT_KEY=your_b2_account_key
B2_BUCKET_NAME=your_bucket_name
B2_ENDPOINT=us-west-002
B2_COST_PER_GB=0.005

# =============================================================================
# ONEDRIVE CONFIGURATION
# =============================================================================
ONEDRIVE_CLIENT_ID=your_onedrive_client_id
ONEDRIVE_CLIENT_SECRET=your_onedrive_client_secret
ONEDRIVE_TOKEN=your_onedrive_token
ONEDRIVE_DRIVE_TYPE=personal

# =============================================================================
# PCLOUD CONFIGURATION
# =============================================================================
PCLOUD_USERNAME=your_pcloud_username
PCLOUD_PASSWORD=your_pcloud_password
PCLOUD_HOSTNAME=api.pcloud.com

# =============================================================================
# PERFORMANCE SETTINGS
# =============================================================================
# Upload concurrency (1-10)
UPLOAD_CONCURRENCY=4

# VFS Cache settings
VFS_CACHE_MODE=writes
VFS_CACHE_SIZE=100GB
VFS_READ_CHUNK_SIZE=96M
VFS_CACHE_MAX_AGE=675h

# Directory cache settings
DIR_CACHE_TIME=2m
POLL_INTERVAL=5m

# Transfer settings
BUFFER_SIZE=48M
CHUNK_SIZE=96M
RATE_LIMIT=10

# =============================================================================
# COST MANAGEMENT
# =============================================================================
COST_TRACKING=enabled
COST_LIMIT_MONTHLY=50
COST_ALERTS=enabled
COST_CURRENCY=USD

# Provider selection strategy: auto, cheapest, fastest, balanced
PROVIDER_SELECTION=auto

# =============================================================================
# STORAGE PATHS
# =============================================================================
# Local paths (inside container)
UNIONFS_PATH=/unionfs
MOVE_PATH=/move
CONFIG_PATH=/config
CACHE_PATH=/config/cache

# =============================================================================
# WEB INTERFACE
# =============================================================================
WEB_UI=enabled
WEB_PORT=8080
WEB_AUTH=disabled
WEB_USERNAME=admin
WEB_PASSWORD=changeme

# Real-time updates interval (seconds)
UI_REFRESH_INTERVAL=1
SHOW_TRANSFER_SPEEDS=enabled

# =============================================================================
# SECURITY & ENCRYPTION
# =============================================================================
# Encryption at rest (requires additional setup)
ENCRYPTION=disabled
ENCRYPTION_PASSWORD=your_encryption_password

# Service account rotation (for Google Drive)
SA_ROTATION=disabled
SA_ROTATION_INTERVAL=24h

# =============================================================================
# MONITORING & LOGGING
# =============================================================================
LOG_LEVEL=info
METRICS_ENABLED=true
HEALTH_CHECK_INTERVAL=60s

# Prometheus metrics (if using monitoring stack)
PROMETHEUS_METRICS=enabled
METRICS_PORT=9090

# =============================================================================
# AUTOMATION SETTINGS
# =============================================================================
# Automatic file cleanup after upload
AUTO_CLEANUP=enabled
CLEANUP_DELAY=5m

# File size thresholds
MIN_FILE_SIZE=1MB
MAX_FILE_SIZE=100GB

# Upload retry settings
RETRY_COUNT=3
RETRY_DELAY=30s

# =============================================================================
# LEGACY COMPATIBILITY
# =============================================================================
# Keep these for compatibility with existing setups
PUID=1000
PGID=1000
TZ=UTC
UMASK=002

# Disable legacy features
DISABLE_WEB=false
DISABLE_MERGERFS=false
DISABLE_UNIONFS_CHOWN=false

# =============================================================================
# ADVANCED SETTINGS
# =============================================================================
# Debug mode
DEBUG=false
VERBOSE_LOGGING=false

# Custom rclone config path
RCLONE_CONFIG=/config/rclone.conf

# Additional rclone flags
RCLONE_EXTRA_FLAGS=--config /config/rclone.conf

# Mount options
MOUNT_OPTIONS=allow_other,default_permissions,ro